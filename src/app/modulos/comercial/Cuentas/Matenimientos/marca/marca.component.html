<div class="clsprincipal" *ngIf="estadoVista == 0">

  <div class="container">
    <div class="clstitulo">
      <h1> Catálogo Marca</h1>
    </div>

    <mat-tab-group>

      <!-- TAB PARA CATEGORIAS  -->
      <mat-tab label="CATEGORÍAS">

        <div class="row">
          <div class="col-md-4  offset-md-2">
            <mat-form-field>
              <mat-label>Filtro</mat-label>
              <input matInput (keyup)="applyFilterCategoria($event.target.value)" [formControl]="txtControl"
                autocomplete="off">
            </mat-form-field>
          </div>
          <div class="col-md-4 d-flex justify-content-center align-items-center ">
            <button mat-mini-fab color="accent" (click)="dialogCategoria('AGREGAR','',true,0)">
              <mat-icon>add</mat-icon>
            </button>
          </div>
        </div>

        <div>
          <div class="example-container mat-elevation-z8 ">
            <table mat-table [dataSource]="dsCategoria" #categoriaSort="matSort" matSort>

              <ng-container matColumnDef="opcion" sticky>
                <th mat-header-cell *matHeaderCellDef mat-sort-header class="clsColumnaCatShort"> Opción</th>
                <td mat-cell *matCellDef="let row" class="">
                  <button mat-stroked-button color="accent"
                    (click)="dialogCategoria('EDITAR',row.sDescCategoria,row.bEstCategoria,row.id_Catalogo)">
                    <mat-icon> create</mat-icon>
                  </button>
                </td>
              </ng-container>

              <ng-container matColumnDef="sDescCategoria">
                <th mat-header-cell *matHeaderCellDef mat-sort-header class="clsColumnaCatLarge"> Categoría</th>
                <td mat-cell *matCellDef="let row" class=""> 
                  <ngb-highlight [result]="row.sDescCategoria" [term]="txtControl.value"></ngb-highlight>
                </td>
              </ng-container>

              <ng-container matColumnDef="bEstCategoria">
                <th mat-header-cell *matHeaderCellDef mat-sort-header class="clsColumnaCatShort"> Estado</th>
                <td mat-cell *matCellDef="let row" class=""> {{row.bEstCategoria ? "Activo" : "Inactivo"}} </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="dcCategoria; sticky: true"></tr>
              <tr mat-row *matRowDef="let row; columns: dcCategoria;">

            </table>
          </div>
          <mat-paginator #categoriaPaginator="matPaginator" [pageSize]="10" [pageSizeOptions]="[10, 20, 50, 100]">
          </mat-paginator>
        </div>

      </mat-tab>

      <!-- TAB PARA LINEAS  -->
      <mat-tab label="LÍNEAS">

        <div class="row">
          <div class="col-md-4  offset-md-2">
            <mat-form-field>
              <mat-label>Filtro</mat-label>
              <input matInput (keyup)="applyFilterLinea($event.target.value)" [formControl]="txtControl"
                autocomplete="off">
            </mat-form-field>
          </div>
          <div class="col-md-4 d-flex justify-content-center align-items-center ">
            <button mat-mini-fab color="accent" (click)="dialogLinea('AGREGAR','','',true,0,0)">
              <mat-icon>add</mat-icon>
            </button>
          </div>
        </div>

        <div>
          <div class="example-container mat-elevation-z8 ">
            <table mat-table [dataSource]="dsLinea" #lineaSort="matSort" matSort>

              <ng-container matColumnDef="opcion" sticky>
                <th mat-header-cell *matHeaderCellDef mat-sort-header class="clsColumnaOpc"> Opción</th>
                <td mat-cell *matCellDef="let row" class="">
                  <button mat-stroked-button color="accent"
                    (click)="dialogLinea('EDITAR',row.id_Categoria,row.sDescLinea,row.bEstLinea,row.id_Linea,row.id_Catalogo)">
                    <mat-icon> create</mat-icon>
                  </button>
                </td>
              </ng-container>

              <ng-container matColumnDef="sDescCategoria">
                <th mat-header-cell *matHeaderCellDef mat-sort-header class="clsColumnaLinea"> Categoría</th>
                <td mat-cell *matCellDef="let row" class=""> 
                  <ngb-highlight [result]="row.sDescCategoria" [term]="txtControl.value"></ngb-highlight>
                </td>
              </ng-container>

              <ng-container matColumnDef="sDescLinea">
                <th mat-header-cell *matHeaderCellDef mat-sort-header class="clsColumnaLinea"> Línea</th>
                <td mat-cell *matCellDef="let row" class="">
                  <ngb-highlight [result]="row.sDescLinea" [term]="txtControl.value"></ngb-highlight>
                </td>
              </ng-container>

              <ng-container matColumnDef="bEstLinea">
                <th mat-header-cell *matHeaderCellDef mat-sort-header class="clsColumnaOpc"> Estado</th>
                <td mat-cell *matCellDef="let row" class=""> {{row.bEstLinea ? "Activo" : "Inactivo"}} </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="dcLinea; sticky: true"></tr>
              <tr mat-row *matRowDef="let row; columns: dcLinea;">

            </table>
          </div>
          <mat-paginator #lineaPaginator [pageSize]="10" [pageSizeOptions]="[10, 20, 50, 100]"></mat-paginator>

        </div>
      </mat-tab>

      <!-- TAB PARA MARCAS  -->
      <mat-tab label="MARCAS">

        <div class="row">
          <div class="col-md-4  offset-md-2">
            <mat-form-field>
              <mat-label>Filtro</mat-label>
              <input matInput (keyup)="applyFilterMarca($event.target.value)" [formControl]="txtControl"
                autocomplete="off">
            </mat-form-field>
          </div>
          <div class="col-md-4 d-flex justify-content-center align-items-center ">
            <button mat-mini-fab color="accent" (click)="dialogMarca('AGREGAR','','','',true,0,0)">
              <mat-icon>add</mat-icon>
            </button>
          </div>
        </div>

        <div>
          <div class="example-container mat-elevation-z8 ">
            <table mat-table [dataSource]="dsMarca" #marcaSort="matSort" matSort>

              <ng-container matColumnDef="opcion" sticky>
                <th mat-header-cell *matHeaderCellDef mat-sort-header class="clsColumnaOpc"> Opción</th>
                <td mat-cell *matCellDef="let row" class="">
                  <button mat-stroked-button color="accent"
                    (click)="dialogMarca('EDITAR',row.id_Categoria,row.id_Linea,row.sDescMarca,row.bEstMarca,row.id_Marca,row.id_Catalogo)">
                    <mat-icon> create</mat-icon>
                  </button>
                </td>
              </ng-container>

              <ng-container matColumnDef="sDescCategoria">
                <th mat-header-cell *matHeaderCellDef mat-sort-header class="clsColumnaMarca"> Categoría</th>
                <td mat-cell *matCellDef="let row" class=""> 
                  <ngb-highlight [result]="row.sDescCategoria" [term]="txtControl.value"></ngb-highlight>
                </td>
              </ng-container>

              <ng-container matColumnDef="sDescLinea">
                <th mat-header-cell *matHeaderCellDef mat-sort-header class="clsColumnaMarca"> Línea</th>
                <td mat-cell *matCellDef="let row" class=""> 
                  <ngb-highlight [result]="row.sDescLinea" [term]="txtControl.value"></ngb-highlight>
                </td>
              </ng-container>

              <ng-container matColumnDef="sDescMarca">
                <th mat-header-cell *matHeaderCellDef mat-sort-header class="clsColumnaCatShort"> Marca</th>
                <td mat-cell *matCellDef="let row" class=""> 
                  <ngb-highlight [result]="row.sDescMarca" [term]="txtControl.value"></ngb-highlight>
                </td>
              </ng-container>

              <ng-container matColumnDef="bEstMarca">
                <th mat-header-cell *matHeaderCellDef mat-sort-header class="clsColumnaOpc"> Estado</th>
                <td mat-cell *matCellDef="let row" class=""> {{row.bEstMarca ? "Activo" : "Inactivo"}} </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="dcMarca; sticky: true"></tr>
              <tr mat-row *matRowDef="let row; columns: dcMarca;">

            </table>
          </div>
          <mat-paginator #marcaPaginator [pageSize]="10" [pageSizeOptions]="[10, 20, 50, 100]"></mat-paginator>
        </div>

      </mat-tab>

    </mat-tab-group>

  </div>

</div>