<div style="padding: 80px 0px 0px 0px; min-height: calc(100% - 123px);">
  <div class="container-fluid">
    <div class="card">
      <h5 class="card-header">Consulta de boletas de pago</h5>

      <div class="fab-container">
        <button mat-mini-fab class="fab-toggler" (click)="onToggleFab(-1)">
          <i class="material-icons" [@fabToggler]="{ value: tsDetail }">add</i>
        </button>
        <!-- <div [@speedDialStagger]="abDetail.length">
          <button *ngFor="let btn of abDetail; let index = index" mat-mini-fab class="fab-secondary" color="secondary"
            (click)="onClickFab(index)"
            [disabled]="(this.data.periodosCalculados.length == 0) || (this.visualizado === 0 && index === 1)">
            <i class="material-icons" matTooltip="{{ btn.tool }}" matTooltipPosition="left">{{ btn.icon }}</i>
          </button>
        </div> -->
        <div [@speedDialStagger]="abDetail.length">
          <button *ngFor="let btn of abDetail; let index = index" mat-mini-fab class="fab-secondary" color="secondary"
            (click)="onClickFab(index)" [disabled]="disableFab(index)">
            <i class="material-icons" matTooltip="{{ btn.tool }}" matTooltipPosition="left">{{ btn.icon }}</i>
          </button>
        </div>
      </div>

      <div id="body-main" class="card-body">
        <div class="row">
          <div class="col-xl-6 divLeft">
            <mat-accordion>
              <mat-expansion-panel [expanded]="true">
                <mat-expansion-panel-header>
                  <mat-panel-title> Información del personal </mat-panel-title>
                  <mat-panel-description style="margin-right: 0px">
                  </mat-panel-description>
                  <mat-icon style="margin-right: 10px">info</mat-icon>
                </mat-expansion-panel-header>

                <div class="row">
                  <div class="col-lg-12 divAvatar">
                    <img class="imgAvatar" src="../../../../../../assets/img/LuckyAvatar.png" alt="">
                  </div>
                  <div class="col-lg-12">
                    <div class="form-row">
                      <div class="col-lg-8">
                        <mat-form-field>
                          <mat-label>Tipo documento</mat-label>
                          <input matInput [value]="personal?.trabajador.sTipoDocumento">
                        </mat-form-field>
                      </div>

                      <div class="col-lg-4">
                        <mat-form-field>
                          <mat-label>N° Documento</mat-label>
                          <input matInput [value]="personal?.trabajador.sNumeroDocumento">
                        </mat-form-field>
                      </div>
                    </div>

                    <div class="form-row">
                      <div class="col-lg-12">
                        <mat-form-field>
                          <mat-label>Apellidos y nombres</mat-label>
                          <input matInput [value]="personal?.trabajador.sNombreCompleto">
                        </mat-form-field>
                      </div>
                    </div>

                    <div class="form-row">
                      <div class="col-lg-2">
                        <mat-form-field>
                          <mat-label>Planilla</mat-label>
                          <input matInput [value]="personal?.trabajador.nCodPlanilla">
                        </mat-form-field>
                      </div>

                      <div class="col-lg-5">
                        <mat-form-field>
                          <mat-label>Fecha ingreso</mat-label>
                          <input matInput [value]="personal?.trabajador.sFechaIngreso">
                        </mat-form-field>
                      </div>

                      <div class="col-lg-5">
                        <mat-form-field>
                          <mat-label>Fecha cese</mat-label>
                          <input matInput [value]="personal?.trabajador.sFechaCese">
                        </mat-form-field>
                      </div>
                    </div>

                  </div>
                  <!-- <div [formGroup]="fgDatosDePersonal" class="col-lg-12">
                    <div class="form-row">
                      <div class="col-lg-8">
                        <mat-form-field style="width: 100%;">
                          <mat-label>Tipo documento</mat-label>
                          <input type="text" matInput formControlName="sTipoDoc">
                        </mat-form-field>
                      </div>

                      <div class="col-lg-4">
                        <mat-form-field style="width: 100%;">
                          <mat-label>N° Documento</mat-label>
                          <input type="text" matInput formControlName="sDocumento">
                        </mat-form-field>
                      </div>
                    </div>

                    <div class="form-row">
                      <div class="col-lg-12">
                        <mat-form-field style="width: 100%;">
                          <mat-label>Apellidos y nombres</mat-label>
                          <input type="text" matInput formControlName="sNombres">
                        </mat-form-field>
                      </div>
                    </div>

                    <div class="form-row">
                      <div class="col-lg-2">
                        <mat-form-field style="width: 100%;">
                          <mat-label>Planilla</mat-label>
                          <input type="text" matInput formControlName="sCodPlla">
                        </mat-form-field>
                      </div>

                      <div class="col-lg-5">
                        <mat-form-field style="width: 100%;" appDateFormat>
                          <mat-label>Fecha ingreso</mat-label>
                          <input formControlName="dFechIni" matInput [matDatepicker]="dFechIni">
                          <mat-datepicker-toggle matSuffix [for]="dFechIni"></mat-datepicker-toggle>
                          <mat-datepicker #dFechIni></mat-datepicker>
                        </mat-form-field>
                      </div>

                      <div class="col-lg-5">
                        <mat-form-field style="width: 100%;" appDateFormat>
                          <mat-label>Fecha cese</mat-label>
                          <input formControlName="dFechFin" matInput [matDatepicker]="dFechFin">
                          <mat-datepicker-toggle matSuffix [for]="dFechFin"></mat-datepicker-toggle>
                          <mat-datepicker #dFechFin></mat-datepicker>
                        </mat-form-field>
                      </div>
                    </div>

                  </div> -->
                </div>
              </mat-expansion-panel>

              <mat-expansion-panel>
                <mat-expansion-panel-header>
                  <mat-panel-title> Devengue :</mat-panel-title>
                  <mat-panel-description style="margin-right: 0px">
                  </mat-panel-description>
                  <mat-icon style="margin-right: 10px">filter_alt</mat-icon>
                </mat-expansion-panel-header>

                <div style="padding-top: 10px">
                  <form autocomplete="off" [formGroup]="fgSearchBoletas">
                    <div class="form-row">
                      <div class="col-lg-5">
                        <mat-form-field>
                          <mat-label>Año</mat-label>
                          <mat-select formControlName="anio">
                            <mat-option *ngFor="let item of anios" [value]="item.nId">
                              {{ item.sDescripcion }}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <!-- <div class="col-lg-5">
                        <mat-form-field style="width: 100%">
                          <mat-label>Año</mat-label>
                          <mat-select formControlName="anio" (selectionChange)="onChangeAnio($event.value)">
                            <mat-option *ngFor="let elem of lstAnios" [value]="elem.value">
                              {{ elem.text }}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div> -->
                      <div class="col-lg-7">
                        <mat-form-field>
                          <mat-label>Mes</mat-label>
                          <input matInput formControlName="mes" />
                          <button mat-button *ngIf="getSearchBoletas.mes.value" matSuffix mat-icon-button
                            (click)="getSearchBoletas.mes.patchValue('')">
                            <mat-icon>close</mat-icon>
                          </button>
                        </mat-form-field>
                      </div>

                      <!-- <div class="col-lg-7">
                        <mat-form-field style="width: 100%">
                          <mat-label>Mes</mat-label>
                          <input type="text" matInput formControlName="mes" />
                          <button style="outline: none" mat-button *ngIf="getSearchBoletas.mes.value" matSuffix
                            mat-icon-button aria-label="Clear" (click)="getSearchBoletas.mes.patchValue('')">
                            <mat-icon>close</mat-icon>
                          </button>
                        </mat-form-field>
                      </div> -->
                    </div>
                  </form>
                </div>
                <div id="searchDiv" class="mat-elevation-z8">
                  <mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                    <!-- Checkbox Column -->
                    <ng-container matColumnDef="select">
                      <mat-header-cell *matHeaderCellDef>
                        <mat-checkbox 
                          (change)="$event ? masterToggle() : null"
                          [checked]="selection.hasValue() && isAllSelected()"
                          [indeterminate]="selection.hasValue() && !isAllSelected()" 
                          [aria-label]="checkboxLabel()">
                        </mat-checkbox>
                      </mat-header-cell>
                      <mat-cell *matCellDef="let row">
                        <mat-checkbox 
                          (click)="$event.stopPropagation()" 
                          (change)="$event ? selection.toggle(row) : null" 
                          [checked]="selection.isSelected(row)"
                          [aria-label]="checkboxLabel(row)"
                          [disabled]="row.nCantView === 0">
                        </mat-checkbox>
                      </mat-cell>
                    </ng-container>

                    <ng-container matColumnDef="anio">
                      <mat-header-cell *matHeaderCellDef> Año </mat-header-cell>
                      <mat-cell *matCellDef="let row">
                        {{ row.nAnio }}
                      </mat-cell>
                    </ng-container>

                    <ng-container matColumnDef="mes">
                      <mat-header-cell *matHeaderCellDef> Mes </mat-header-cell>
                      <mat-cell *matCellDef="let row">
                        {{ row.sMes }}
                      </mat-cell>
                    </ng-container>

                    <ng-container matColumnDef="montoIngresos">
                      <mat-header-cell *matHeaderCellDef>
                        Total Ing.
                      </mat-header-cell>
                      <mat-cell *matCellDef="let row"
                        [ngStyle]="{ filter: row.nCantView === 0 ? 'blur(6px)' : 'blur(0)'}">
                        {{ row.nIngreso }}
                      </mat-cell>
                    </ng-container>

                    <ng-container matColumnDef="montoDescuento">
                      <mat-header-cell *matHeaderCellDef>
                        Total Dscto.
                      </mat-header-cell>
                      <mat-cell *matCellDef="let row"
                        [ngStyle]="{ filter: row.nCantView === 0 ? 'blur(6px)' : 'blur(0)'}">
                        {{ row.nDescuento }}
                      </mat-cell>
                    </ng-container>

                    <ng-container matColumnDef="montoNeto">
                      <mat-header-cell *matHeaderCellDef>
                        Total Neto
                      </mat-header-cell>
                      <mat-cell *matCellDef="let row"
                        [ngStyle]="{ filter: row.nCantView === 0 ? 'blur(6px)' : 'blur(0)'}">
                        {{ row.nNeto }}
                      </mat-cell>
                    </ng-container>

                    <ng-container matColumnDef="noData">
                      <mat-footer-cell *matFooterCellDef [attr.colspan]="searchBC.length">
                        No se encuentran registros.
                      </mat-footer-cell>
                    </ng-container>

                    <mat-header-row *matHeaderRowDef="searchBC"></mat-header-row>
                    <mat-row *matRowDef="let row; columns: searchBC" (click)="loadBoleta(row)">
                    </mat-row>
                    <mat-footer-row *matFooterRowDef="['noData']"
                      [hidden]="dataSource && dataSource.filteredData.length > 0">
                    </mat-footer-row>
                  </mat-table>

                  <mat-paginator style="display: contents" [hidePageSize]="false" [pageSize]="4">
                  </mat-paginator>
                </div>

                <!-- <div id="searchDiv" class="mat-elevation-z8">
                  <mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                   
                    <ng-container matColumnDef="select">
                      <mat-header-cell *matHeaderCellDef>
                        <mat-checkbox (change)="$event ? masterToggle() : null" [disabled]="this.visualizado === 0"
                          [checked]="selection.hasValue() && isAllSelected()"
                          [indeterminate]="selection.hasValue() && !isAllSelected()" [aria-label]="checkboxLabel()">
                        </mat-checkbox>
                      </mat-header-cell>
                      <mat-cell *matCellDef="let element">
                        <mat-checkbox (click)="$event.stopPropagation()" [disabled]="element.visualizado === 0"
                          (change)="$event ? selection.toggle(element) : null" [checked]="selection.isSelected(element)"
                          [aria-label]="checkboxLabel(element)">
                        </mat-checkbox>
                      </mat-cell>
                    </ng-container>

                 
                    <ng-container matColumnDef="position">
                      <mat-header-cell *matHeaderCellDef> No. </mat-header-cell>
                      <mat-cell *matCellDef="let element">
                        {{ element.position }}
                      </mat-cell>
                    </ng-container>

                   
                    <ng-container matColumnDef="id">
                      <mat-header-cell *matHeaderCellDef> Id </mat-header-cell>
                      <mat-cell *matCellDef="let element">
                        {{ element.id }}
                      </mat-cell>
                    </ng-container>

                  
                    <ng-container matColumnDef="anio">
                      <mat-header-cell *matHeaderCellDef> Año </mat-header-cell>
                      <mat-cell *matCellDef="let element">
                        {{ element.nAnio }}
                      </mat-cell>
                    </ng-container>

             
                    <ng-container matColumnDef="mes">
                      <mat-header-cell *matHeaderCellDef> Mes </mat-header-cell>
                      <mat-cell *matCellDef="let element">
                        {{ element.sMes }}
                      </mat-cell>
                    </ng-container>

                 
                    <ng-container matColumnDef="montoIngresos">
                      <mat-header-cell *matHeaderCellDef>
                        Total Ing.
                      </mat-header-cell>
                      <mat-cell *matCellDef="let element"
                        [ngStyle]="{filter: element.id != this.idDesenfoque && element.visualizado != 1 ? 'blur(6px)' : 'blur(0)'}">
                        {{ element.nIngreso }}
                      </mat-cell>
                    </ng-container>

          
                    <ng-container matColumnDef="montoDescuento">
                      <mat-header-cell *matHeaderCellDef>
                        Total Dscto.
                      </mat-header-cell>
                      <mat-cell *matCellDef="let element"
                        [ngStyle]="{filter: element.id != this.idDesenfoque && element.visualizado != 1 ? 'blur(6px)' : 'blur(0)'}">
                        {{ element.nDescuento }}
                      </mat-cell>
                    </ng-container>

                   
                    <ng-container matColumnDef="montoNeto">
                      <mat-header-cell *matHeaderCellDef>
                        Total Neto
                      </mat-header-cell>
                      <mat-cell *matCellDef="let element"
                        [ngStyle]="{filter: element.id != this.idDesenfoque && element.visualizado != 1 ? 'blur(6px)' : 'blur(0)'}">
                        {{ element.nNeto }}
                      </mat-cell>
                    </ng-container>

      
                    <ng-container matColumnDef="visualizado">
                      <mat-header-cell *matHeaderCellDef> Visualizado </mat-header-cell>
                      <mat-cell *matCellDef="let element">
                        {{ element.visualizado }}
                      </mat-cell>
                    </ng-container>

                    <ng-container matColumnDef="noData">
                      <mat-footer-cell *matFooterCellDef [attr.colspan]="searchBC.length">
                        No se encuentran registros.
                      </mat-footer-cell>
                    </ng-container>

                    <mat-header-row *matHeaderRowDef="searchBC"></mat-header-row>
                    <mat-row *matRowDef="let row; columns: searchBC" (click)="onVisualizarBoleta(row)">
                    </mat-row>
                    <mat-footer-row *matFooterRowDef="['noData']"
                      [hidden]="searchBS && this.searchBS.filteredData.length > 0">
                    </mat-footer-row>
                  </mat-table>

                  <mat-paginator #searchB style="display: contents" [hidePageSize]="false" [pageSize]="4">
                  </mat-paginator>
                </div> -->
              </mat-expansion-panel>
            </mat-accordion>
          </div>

          <div class="col-xl-6">
            <div class="row">
              <div class="col-sm">
                <h6>Detalle de boleta : {{ periodoSeleccionado }}</h6>
                <hr style="margin-top: 0px; margin-bottom: 20px" />
              </div>
            </div>

            <!-- <div class="row">
              <div class="col-lg" [ngStyle]="{filter: this.visualizado === 0 ? 'blur(6px)' : 'blur(0)'}">
                <iframe id="pdf-boleta" style="width: 100%; height: 500px"></iframe>
                <iframe id="pdf-boletas" style="display: none;" (load)="onImprimirBoletasSeleccionadas()"></iframe>
              </div>
            </div> -->
            <div class="row">
              <div class="col-lg" [ngStyle]="{filter: !this.isVisualizado ? 'blur(6px)' : 'blur(0)'}">
                <iframe id="pdf-boleta" style="width: 100%; height: 500px"></iframe>
                <!-- <iframe id="pdf-boleta" style="display: none;" (load)="onImprimirBoleta()"></iframe> -->
              </div>
            </div>
          </div>
        </div>

        <ngx-spinner name="spi_main" [fullScreen]="true" type="ball-clip-rotate-multiple" size="medium">
          <p style="color: white; padding-top: 50px;">Cargando información...</p>
        </ngx-spinner>

      </div>
    </div>
    <!-- /<mat-progress-bar *ngIf="pbMain" color="accent" mode="indeterminate"></mat-progress-bar> -->
  </div>
</div>