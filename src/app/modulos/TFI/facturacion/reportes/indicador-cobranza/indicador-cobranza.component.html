<div class="mb-3 col-md-12">

    <!-- Card Header Titulo-->
    <div class="text-center mt-0 mb-2">
        <h4 class="col-md-10 offset-md-1 card-header mb-4">
            Reporte Indicador de Cobranza
        </h4>
    </div>

    <!-- Botones Flotantes -->
    <div class="fab-container">
        <button mat-mini-fab class="fab-toggler" (click)="onToggleFab(1, -1)">
            <i class="material-icons" [@fabToggler]="{value: tsLista}">add</i>
        </button>
        <div [@speedDialStagger]="abLista.length">
            <button *ngFor="let btn of abLista; let ibtn = index;" mat-mini-fab class="fab-secondary" color="secondary"
                (click)="clickFab(ibtn)">
                <i class="material-icons" matTooltip="{{btn.tool}}" matTooltipPosition="left">{{btn.icon}}</i>
            </button>
        </div>
    </div>

    <div class="card mt-3 mb-4">
        <div class="card-body">

            <div class="col-md-12">
                <form autocomplete="off" [formGroup]="formIndicadorCobranza">
                    <div class="row">

                        <div class="col-md-6 text-align">
                            Seleccionar Año:
                        </div>

                        <div class="col-md-6">
                            <div class="col-md-10">
                                <ng-select appendTo="body" [clearable]="true" placeholder="Seleccionar Año"
                                    formControlName="anio" notFoundText="No hay años registrados">
                                    <ng-option *ngFor="let item of lAnio" [value]="item.anio">
                                        {{item.anio}}</ng-option>
                                </ng-select>
                            </div>
                        </div>

                    </div>

                </form>
            </div>

        </div>
    </div>

    <!-- Listado de Indicador de Cobranza -->
    <div *ngIf="tablaEstado" id="listaMobile" class="mat-elevation-z8">
        <div class="example-container">

            <table mat-table [dataSource]="dataSource" matSort>

                <!-- Columna Presupuesto -->
                <ng-container matColumnDef="presupuesto">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header class="columnaPequeña">
                        Presupuesto
                    </th>
                    <td mat-cell *matCellDef="let row" class="has_label_on_mobile" data-label='Presupuesto: '>
                        {{row.codigoPresupuesto}}
                    </td>
                </ng-container>

                <!-- Columna Nombre del Presupuesto -->
                <ng-container matColumnDef="nombrePresupuesto">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header class="columnaMediana">
                        Nombre del Presupuesto
                    </th>
                    <td mat-cell *matCellDef="let row" class="has_label_on_mobile"
                        data-label='Nombre del Presupuesto: '>
                        {{row.nombrePresupuesto}}
                    </td>
                </ng-container>

                <!-- Columna Cliente -->
                <ng-container matColumnDef="cliente">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header class="columnaPequeña">
                        Cliente
                    </th>
                    <td mat-cell *matCellDef="let row" class="has_label_on_mobile" data-label='Cliente: '>
                        {{row.cliente}}
                    </td>
                </ng-container>

                <!-- Columna Gerente de Cuenta -->
                <ng-container matColumnDef="gerenteCuenta">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header class="columnaMediana">
                        Gerente de Cuenta
                    </th>
                    <td mat-cell *matCellDef="let row" class="has_label_on_mobile" data-label='Gerente de Cuenta: '>
                        {{row.gerenteCuenta}}
                    </td>
                </ng-container>

                <!-- Columna Ejecutivo -->
                <ng-container matColumnDef="ejecutivo">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header class="columnaMediana">
                        Ejecutivo
                    </th>
                    <td mat-cell *matCellDef="let row" class="has_label_on_mobile" data-label='Ejecutivo: '>
                        {{row.ejecutivo}}
                    </td>
                </ng-container>

                <!-- Columna Fecha Inicio -->
                <ng-container matColumnDef="fechaInicio">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header class="columnaPequeña">
                        F. Inicio
                    </th>
                    <td mat-cell *matCellDef="let row" class="has_label_on_mobile" data-label='F. Inicio: '>
                        {{row.fechaInicio}}
                    </td>
                </ng-container>

                <!-- Columna Fecha Fin -->
                <ng-container matColumnDef="fechaFin">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header class="columnaPequeña">
                        F. Fin
                    </th>
                    <td mat-cell *matCellDef="let row" class="has_label_on_mobile" data-label='F. Fin: '>
                        {{row.fechaFin}}
                    </td>
                </ng-container>

                <!-- Columna Fecha primer gasto -->
                <ng-container matColumnDef="fechaPrimerGasto">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header class="columnaPequeña">
                        Fecha primer gasto
                    </th>
                    <td mat-cell *matCellDef="let row" class="has_label_on_mobile" data-label='Fecha primer gasto: '>
                        {{row.fechaPrimerGasto}}
                    </td>
                </ng-container>

                <!-- Columna Factura -->
                <ng-container matColumnDef="factura">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header class="columnaMediana">
                        Factura
                    </th>
                    <td mat-cell *matCellDef="let row" class="has_label_on_mobile" data-label='Factura: '>
                        {{row.factura}}
                    </td>
                </ng-container>

                <!-- Columna Fecha Factura -->
                <ng-container matColumnDef="fechaFactura">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header class="columnaPequeña">Fecha Factura
                    </th>
                    <td mat-cell *matCellDef="let row" class="has_label_on_mobile" data-label='Fecha Factura: '>
                        {{row.fechaFactura}}
                    </td>
                </ng-container>

                <!-- Columna A Cuenta -->
                <ng-container matColumnDef="montoCuenta">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header class="columnaPequeña">
                        A Cuenta
                    </th>
                    <td mat-cell *matCellDef="let row" class="has_label_on_mobile" data-label='A Cuenta: '>
                        {{row.montoCuenta}}
                    </td>
                </ng-container>

                <!-- Columna Total Facturado -->
                <ng-container matColumnDef="totalFacturado">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header class="columnaPequeña">
                        Total Facturado
                    </th>
                    <td mat-cell *matCellDef="let row" class="has_label_on_mobile" data-label='Total Facturado: '>
                        {{row.totalFacturado}}
                    </td>
                </ng-container>

                <!-- Columna Fecha Abono -->
                <ng-container matColumnDef="fechaAbono">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header class="columnaPequeña">
                        Fecha Abono
                    </th>
                    <td mat-cell *matCellDef="let row" class="has_label_on_mobile" data-label='Fecha Abono: '>
                        {{row.fechaAbono}}
                    </td>
                </ng-container>

                <!-- Columna Días -->
                <ng-container matColumnDef="dias">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header class="columnaPequeña">
                        Días
                    </th>
                    <td mat-cell *matCellDef="let row" class="has_label_on_mobile" data-label='Días: '>
                        {{row.dias}}
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

            </table>
        </div>
        <mat-paginator [pageSizeOptions]="[10, 20, 30]" showFirstLastButtons></mat-paginator>
    </div>

</div>